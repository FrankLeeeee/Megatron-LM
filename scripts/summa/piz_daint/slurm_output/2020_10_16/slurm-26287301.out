nid05127:22833:22833 [0] NCCL INFO Bootstrap : Using [0]ipogif0:148.187.52.48<0>
nid05127:22833:22833 [0] NCCL INFO NET/Plugin : No plugin found (libnccl-net.so).
libibverbs: Could not locate libibgni (/usr/lib64/libibgni.so.1: undefined symbol: verbs_uninit_context)
libibverbs: Warning: couldn't open config directory '/opt/cray/rdma-core/22.3-7.0.2.1_2.21__g42f5f32b.ari/etc/libibverbs.d'.
nid05127:22833:22833 [0] NCCL INFO NET/IB : No device found.
nid05127:22833:22833 [0] NCCL INFO NET/Socket : Using [0]ipogif0:148.187.52.48<0>
NCCL version 2.4.8+cuda10.1
nid05127:22833:22857 [0] NCCL INFO Setting affinity for GPU 0 to ffffff
nid05127:22833:22857 [0] NCCL INFO Using 256 threads, Min Comp Cap 6, Trees enabled up to size -2
nid05127:22833:22857 [0] NCCL INFO comm 0x2aab40002260 rank 0 nranks 1 cudaDev 0 nvmlDev 0 - Init COMPLETE
Traceback (most recent call last):
  File "main.py", line 50, in <module>
    main()
  File "main.py", line 46, in main
    run(**args_dict)
  File "/users/youyang9/lsg/Megatron-LM/scripts/summa/piz_daint/megatron_mlp.py", line 260, in megatron_mlp_run
    mlp = ParallelMLP(hidden_size=hidden_dim, world_size=world_size).cuda()
  File "/users/youyang9/lsg/Megatron-LM/scripts/summa/piz_daint/megatron_mlp.py", line 203, in __init__
    self.dense_h_to_4h = ColumnParallelLinear(
  File "/users/youyang9/lsg/Megatron-LM/scripts/summa/piz_daint/megatron_mlp.py", line 75, in __init__
    self.weight = Parameter(torch.Tensor(self.output_size_per_partition,
RuntimeError: [enforce fail at CPUAllocator.cpp:64] . DefaultCPUAllocator: can't allocate memory: you tried to allocate 1048576000000 bytes. Error code 12 (Cannot allocate memory)
srun: error: nid05127: task 0: Exited with exit code 1
srun: Terminating job step 26287301.0


Batch Job Summary Report (version 20.09.1) for Job "summa_pytorch" (26287301) on daint
Job information (1/3)
-----------------------------------------------------------------------------------------------------
             Submit            Eligible               Start                 End    Elapsed Time limit
------------------- ------------------- ------------------- ------------------- ---------- ----------
2020-10-16T07:06:32 2020-10-16T07:06:32 2020-10-16T09:21:21 2020-10-16T09:22:01   00:00:40   00:15:00
-----------------------------------------------------------------------------------------------------

Job information (2/3)
-------------------------------------------------------------
    Username      Account    Partition   NNodes        Energy
------------ ------------ ------------ -------- -------------
    youyang9        s1054       normal        1      2.667 kJ

Job information (3/3) - GPU utilization data
---------------------------------------------------
   Node name       Usage     Max mem Execution time
------------ ----------- ----------- --------------
    nid05127         4 %    10699 MB       00:00:21

